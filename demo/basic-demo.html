<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../flxs-tree-grid.html">
<link rel="import" href="../flxs-tree-grid-column.html">

<dom-module id="basic-demo">
  <template>
    <style>
      :host {
        display: block;
        padding: 10px;
      }
      
      flxs-tree-grid {
        --flxs-alternating-item-colors: [0xd9d9d9, 0xffffff];
        --flxs-alternating-text-colors: [0x1F1F1F, 0x0028a0];
        --flxs-vertical-grid-lines: false;
        --flxs-header-vertical-grid-lines: false;
        --flxs-filter-vertical-grid-lines: false;
      }
    </style>
    <iron-ajax auto url="/demo/data/englishmonarchs.json" handle-as="json" last-response="{{ajaxResponse}}" id="xhr"></iron-ajax>

    <div class="card">
      <div class="circle">1</div>
      <h1>Basic Demo</h1>
      <flxs-tree-grid dataProvider="{{ ajaxResponse }}" forcePagerRow="true" enableFilters="true" enableExport="true" style="width:800px;height:400px"
        itemClick="[[itemClick]]">
        <flxs-tree-grid-column type="checkbox"></flxs-tree-grid-column>
        <flxs-tree-grid-column dataField="nm" headerText="ID" filterControl="TextInput" filterOperation="BeginsWith"></flxs-tree-grid-column>
        <flxs-tree-grid-column dataField="cty" headerText="Country" filterControl="ComboBox" filterComboBoxBuildFromGrid="true"></flxs-tree-grid-column>
        <flxs-tree-grid-column dataField="hse" headerText="House"></flxs-tree-grid-column>
        <flxs-tree-grid-column dataField="yrs" headerText="Years"></flxs-tree-grid-column>
      </flxs-tree-grid>
    </div>
  </template>

  <script>
    class BasicDemo extends Polymer.Element {
      static get is() { return 'basic-demo'; }
            static get properties() {
        return {
          countries:{
            type: Array,
            notify:true
          }, 
          ajaxResponse: {
              type: Array,
            notify:true
            },
          itemClick:{
            type:Function,
            notify:true
          }
        };
      }
      connectedCallback(){
        super.connectedCallback();
        this.countries = [
                            { "label":"United Kingdom", "data":"United Kingdom" },
                            { "label":"Scotland", "data":"Scotland" },
                            { "label":"Ireland", "data":"Ireland" }
                        ];

      }
      itemClick(evt){
            alert("Clicked On " + evt.item.nm)
        }

    }

    window.customElements.define(BasicDemo.is, BasicDemo);
  </script>
</dom-module>